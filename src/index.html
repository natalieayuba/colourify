<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#fff" />
    <link rel="icon" href="./favicon.png" />
    <link rel="apple-touch-icon" href="./favicon-180x180.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Merriweather+Sans:wght@300..800&display=swap" rel="stylesheet">
    <link href="./output.css" rel="stylesheet" />
    <title>Colourify</title>
    <meta name="description" content="A web application for generating a color palette based on your favourite Spotify albums' art." />
    <meta property="og:title" content="Colourify" />
    <meta property="og:description" content="A web application for generating a color palette based on your favourite Spotify albums' art." />
    <meta property="og:type" content="website" />
  </head>
  <body>
    <div class="bg-grey-50 min-h-screen relative flex justify-center overflow-auto px-4">
      <main>
        <div id="login" class="flex flex-col items-center pb-40 pt-32 sm:pt-40">
          <h1 class="text-6xl sm:text-7xl font-semibold text-center mb-6">Colourify</h1>
          <p class="text-xl sm:text-2xl max-w-lg text-center mb-12">Generate a colour palette based on the art of your favourite albums on Spotify</p>
          <a href="/login" class="btn bg-spotify-green">
            <img src="./images/Spotify_Icon_RGB_White.png" alt="Spotify Icon" class="w-8 h-8" />
            Log in with Spotify
          </a>
        </div>
        <div id="loggedin" class="mb-60 pt-10 sm:pt-32 gap-20 flex-wrap justify-center hidden">
          <div class="shadow-lg scale-[0.3] sm:scale-50 mb-[-1344px] mr-[-756px] sm:mb-[-960px] sm:mr-[-540px] origin-top-left">
            <div id="palette" class="bg-white w-[1080px] h-[1920px] px-[130px] py-[182px] flex flex-col justify-between"></div>
          </div>
          <form class="w-[324px] sm:w-[520px]">
            <h2 class="text-3xl sm:text-4xl font-semibold">Customise Image</h2>
            <div class="flex gap-10 py-10 items-center justify-between">
              <p>Include artist and album name</p>
              <label class="relative inline-block w-[40px] h-[22px]">
                <input type="checkbox" id="include-album-title-switch" class="opacity-0 w-0 h-0 peer" />
                <span class="absolute cursor-pointer top-0 bottom-0 left-0 right-0 bg-gray-300 duration-300 rounded-full peer-checked:bg-black before:absolute before:content-[''] before:h-[18px] before:w-[18px] before:left-[3px] before:bottom-[2px] before:bg-white before:duration-300 before:rounded-full peer-checked:before:translate-x-[16px]"></span>
              </label>
            </div>
            <button id="download-btn" class="w-full flex justify-center mt-8 sm:w-auto btn">Download image</button>
          </form>
        </div>
      </main>
      <footer class="text-sm absolute mt-10 flex flex-col gap-4 items-center px-6 py-10 bottom-0 w-full border-t">
        <div class="flex gap-2 flex-wrap justify-center">
          <p>Created by <a href="http://natalieayuba.github.io" class="link">Natalie Ayuba</a></p>
          <span class="text-gray-300">â€¢</span>
          <div class="flex gap-4">
            <a href="/" class="link" onclick="return confirmNavigation()">Home</a>
            <a href="./about.html" class="link" onclick="return confirmNavigation()">About</a>
            <a href="#" class="link" onclick="return confirmNavigation()">Policy</a>
          </div>
        </div>
        <img src="./images/Spotify_Logo_RGB_Black.png" alt="Spotify Logo" class="w-24" />
      </footer>
    </div>
    <script id="palette-template" type="text/x-handlebars-template">
      <div class='flex justify-between items-baseline'>
        <p class='font-bold text-4xl'>{{title}}</p>
        <p class='text-2xl'>colourify.com</p>
      </div>
      <div class='flex h-[1300px] w-full'>
        <div class='flex h-full justify-between flex-col flex-none mr-8'>
          {{#each albums}}
            <div>
              <img src='{{images.0.url}}' class='w-[200px] h-[200px]' alt='{{name}} by {{artists.0.name}} Album Cover' id='{{id}}'  />
              <p class='album-title absolute mt-3 text-2xl hidden'>{{name}} by {{artists.0.name}}</p>
            </div>
          {{/each}}
        </div>
        <div class='flex h-full justify-between flex-col w-full'>
          {{#each palettes}}
            <div class='flex'>
              {{#each this}}
                <div class='h-[200px] min-w-6 flex-1' {{{this}}}></div>
              {{/each}}
            </div>
          {{/each}}
        </div>
      </div>
      <img src='./images/Spotify_Logo_RGB_Black.png' alt='Spotify Logo' class='w-[180px] self-center' />
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.8/handlebars.min.js"></script>
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.0/color-thief.umd.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html-to-image/1.11.11/html-to-image.min.js"></script>
    <script src="./index.js"></script>
  </body>
</html>
